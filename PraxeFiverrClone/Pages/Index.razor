@page "/"
@using DataAccessLibrary
@using DataTemplateLibrary
@using DataTemplateLibrary.Models;
@using ServerManagement;
@using SessionService.SessionTemplate_Creater;
@inject NavigationManager NavManager;
@inject CookieService.CookieManager Cookies;
@inject ServerManager ServerManager;

<PageTitle>Home</PageTitle>

<div class="page">
    <h1>Hello, world!</h1>
    <button @onclick = "Login">check</button>
    @logged
    Welcome to your new app.

</div>

@code {
    bool logged = false;
    public async void Login()
    {
        LoginService.LoginManager LoginManager = new LoginService.LoginManager(Cookies, ServerManager);
        logged = await LoginManager.IsLoggedIn();
        StateHasChanged();
    }
}
